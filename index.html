<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badminton Cost Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f4f4f4; }
        h2 { color: #0066cc; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input[type="number"] { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; }
        button { background-color: #0066cc; color: white; padding: 10px 15px; border: none; cursor: pointer; margin-top: 20px; }
        #results { margin-top: 30px; padding: 15px; border: 1px solid #ccc; background-color: #fff; }
        .result-item { margin-bottom: 8px; }
        .cost { font-weight: bold; color: green; font-size: 1.1em; }
    </style>
</head>
<body>

    <h2>üè∏ Badminton Session Cost Calculator</h2>
    <p>Based on a **\$8.50** base rate and **12** initial regular players.</p>

    <label for="newPlayers">New Players Attending:</label>
    <input type="number" id="newPlayers" value="6" min="0">

    <label for="absentPlayers">Absent Regular Players (out of 12):</label>
    <input type="number" id="absentPlayers" value="4" min="0" max="12">

    <label for="shuttlesUsed">Total Shuttles Used (Birdies):</label>
    <input type="number" id="shuttlesUsed" value="14" min="0">

    <label for="additionalCourts">Additional Courts Booked (at $22.50/hr):</label>
    <input type="number" id="additionalCourts" value="1" min="0">

    <label for="additionalHours">Additional Hours for Courts (Default 1 hr):</label>
    <input type="number" id="additionalHours" value="1" min="1">
    
    <button onclick="calculateCost()">Calculate Costs</button>

    <div id="results">
        <h3>Calculation Results:</h3>
        <p>Enter the details above and click 'Calculate Costs'.</p>
    </div>

    <script>
        function calculateCost() {
            // 1. FIXED BASE VARIABLES from the initial problem
            const BASE_RATE = 8.50;
            const INITIAL_REGULARS = 12;
            const SHUTTLE_COST = 3.25;
            const COURT_HOURLY_COST = 22.50;

            // 2. INPUT VARIABLES
            const newPlayers = parseFloat(document.getElementById('newPlayers').value) || 0;
            const absentPlayers = parseFloat(document.getElementById('absentPlayers').value) || 0;
            const shuttlesUsed = parseFloat(document.getElementById('shuttlesUsed').value) || 0;
            const additionalCourts = parseFloat(document.getElementById('additionalCourts').value) || 0;
            const additionalHours = parseFloat(document.getElementById('additionalHours').value) || 1;

            // 3. CORE CALCULATIONS
            
            // Player Counts
            const attendingRegPlayers = INITIAL_REGULARS - absentPlayers;
            const totalAttendingPlayers = attendingRegPlayers + newPlayers;

            // Additional Expenses
            const shuttleExpense = shuttlesUsed * SHUTTLE_COST; // 14 * $3.25 = $45.50
            const courtExpense = additionalCourts * additionalHours * COURT_HOURLY_COST; // 1 * 1 * $22.50 = $22.50
            const totalAdditionalExpense = shuttleExpense + courtExpense; // $45.50 + $22.50 = $68.00

            // New Revenue
            const newPlayerRevenue = newPlayers * BASE_RATE; // 6 * $8.50 = $51.00

            // Deficit/Surplus Calculation
            const netDifference = newPlayerRevenue - totalAdditionalExpense; // $51.00 - $68.00 = -$17.00
            
            // Final Cost Sharing
            const extraCostPerPlayer = netDifference / totalAttendingPlayers; // -$17.00 / 14 = -$1.21428...

            // Final Player Costs
            const finalCostPerPlayer = BASE_RATE - extraCostPerPlayer; // $8.50 - (-$1.21428...) = $9.71428...

            // 4. DISPLAY RESULTS
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <h3>Cost Breakdown (Attending Players: ${totalAttendingPlayers})</h3>
                <p class="result-item">Total Attending Players: <strong>${totalAttendingPlayers}</strong> (8 regular + 6 new)</p>
                <p class="result-item">Total Additional Expenses (Courts + Shuttles): <strong>$${totalAdditionalExpense.toFixed(2)}</strong></p>
                <p class="result-item">Revenue from New Players: $${newPlayerRevenue.toFixed(2)}</p>
                <p class="result-item">Deficit to be covered by all players (Net Difference): <strong style="color:red;">$${Math.abs(netDifference).toFixed(2)}</strong></p>
                <hr>
                <p class="result-item">Extra Charge per Attending Player: <strong>$${Math.abs(extraCostPerPlayer).toFixed(2)}</strong></p>
                <p class="result-item"><strong>Final Total Cost Per Player:</strong> <span class="cost">$${finalCostPerPlayer.toFixed(2)}</span></p>
                <hr>
                
                <h4>Payment Instructions:</h4>
                <p>New Players (Total ${newPlayers}): Pay the full final cost.</p>
                <p class="result-item">**New Players Pay:** <strong>$${finalCostPerPlayer.toFixed(2)}</strong> each.</p>
                <p>Already-Paid Players (Total ${attendingRegPlayers}): Pay only the extra charge.</p>
                <p class="result-item">**Already-Paid Players Pay:** <strong>$${Math.abs(extraCostPerPlayer).toFixed(2)}</strong> each.</p>
            `;
        }
        // Run calculation once on load with default values
        document.addEventListener('DOMContentLoaded', calculateCost);
    </script>

</body>
</html>